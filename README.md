# Modern Music Player HTML

![播放器预览](https://m.fxl.pp.ua/final.png)

## 简介

这是一个由HTML、CSS和JavaScript开发的现代化音乐播放器，完全运行在浏览器中，不需要任何后端服务。播放器支持本地音乐文件播放，可以显示歌词，并具有美观的用户界面和多种实用功能。

## 主要功能

- **美观的用户界面**：使用现代UI设计，包括毛玻璃效果、流畅的动画和响应式布局
- **本地文件播放**：支持加载本地音乐、封面图和歌词文件
- **播放列表管理**：添加、删除和管理多首歌曲
- **歌词显示与定位**：实时高亮显示当前播放位置的歌词，点击歌词可跳转到相应时间点
- **音频可视化**：基础频谱可视化和增强版环形可视化效果
- **重复播放功能**：支持三种重复模式（不重复、单曲循环、列表循环）
- **睡眠定时器**：设置定时自动停止播放
- **全屏模式**：沉浸式欣赏音乐和专辑封面
- **迷你播放器模式**：节省屏幕空间的简洁播放界面
- **多主题支持**：内置紫色、蓝色、绿色和粉色四种主题
- **深色/浅色模式**：适应不同的环境和个人偏好
- **标题自动滚动**：当歌曲名称过长时自动滚动显示
- **设置持久化**：记住用户的偏好设置
- **移动端优化**：完美适配手机和平板设备

## 使用方法

1. 下载index.html文件或克隆本仓库
2. 在浏览器中打开index.html
3. 使用右上角的按钮上传:
   - 音乐文件（支持.mp3, .wav, .ogg等浏览器支持的格式）
   - 专辑封面图片（可选）
   - 歌词文件（.lrc格式，可选）
4. 使用播放控制按钮控制音乐播放
5. 点击专辑封面图片查看完整歌词
6. 使用播放列表管理多首歌曲

## 键盘快捷键

- **空格键**: 播放/暂停
- **左右方向键**: 快退/快进5秒
- **上下方向键**: 增大/减小音量
- **R键**: 切换重复播放模式
- **F键**: 切换全屏模式
- **L键**: 显示歌词
- **P键**: 显示播放列表
- **S键**: 显示睡眠定时器
- **M键**: 切换迷你播放器模式
- **ESC键**: 关闭当前打开的面板

## 功能亮点

### 播放列表管理
便捷地管理多首歌曲，可以添加、删除和切换不同的曲目，支持记住播放位置和设置。

### 自适应移动端
精心优化的移动端体验，在手机小屏幕上也能得到完美的显示效果和操作体验。

### 高级音频可视化
除了基础的频谱可视化外，还增加了美观的环形可视化效果，为音乐欣赏增添视觉享受。

### 标题自动滚动
当歌曲名称过长时，会自动水平滚动显示，解决了小屏幕上歌名显示不全的问题。

### 智能睡眠定时器
可以设置15-90分钟的定时关闭功能，适合睡前聆听音乐。

### 深色/浅色主题
根据个人喜好或环境亮度切换深色和浅色模式，减轻眼睛疲劳。

### 自动保存设置
记住用户的音量、主题、播放模式等设置，下次打开时自动应用。

## 性能优化

- 使用`will-change`属性提升动画性能
- 实现批量DOM更新减少重排重绘
- 应用`requestAnimationFrame`优化动画和可视化效果
- 通过防抖技术优化窗口大小调整的响应
- 二分查找算法加速歌词定位
- 减少不必要的DOM操作和样式计算
- 使用`DocumentFragment`提升批量元素创建性能
- Canvas绘图优化和内存管理

## 技术细节

- 纯前端实现，无需服务器
- 使用Web Audio API实现音频可视化
- Canvas API绘制高级可视化效果
- 支持LRC格式歌词的解析和显示
- 自动检测并处理歌词文件编码（支持UTF-8和GBK）
- 使用CSS变量实现主题切换
- localStorage实现设置持久化
- CSS Grid和Flexbox布局
- CSS动画和过渡效果

## 关于作者

这个音乐播放器是由一名初中生在AI的辅助下开发的，不断改进和优化，增加了许多实用功能，既美观又实用。

## 开源协议

MIT License
