# Modern Music Player HTML

![播放器预览](https://m.fxl.pp.ua/final.png)

## 简介

这是一个由HTML、CSS和JavaScript开发的现代化音乐播放器，完全运行在浏览器中，不需要任何后端服务。播放器支持本地音乐文件播放，可以显示歌词，并提供美观的用户界面和多种实用功能。

## 主要功能

- **美观的用户界面**：使用现代UI设计，包括毛玻璃效果、流畅的动画和响应式布局
- **本地文件播放**：通过播放列表界面集中管理音乐、封面图和歌词文件
- **播放列表管理**：添加、删除和管理多首歌曲，每首歌曲拥有独立的封面和歌词
- **拖放文件上传**：支持直接拖放文件到上传区域快速添加音乐
- **歌词显示与分段**：智能识别歌词段落结构，高亮显示当前播放位置
- **GBK编码支持**：正确解析中文GBK编码歌词文件，避免乱码
- **音频可视化**：频谱柱状图提供音乐视觉效果
- **重复播放功能**：支持三种重复模式（不重复、单曲循环、列表循环）
- **睡眠定时器**：设置定时自动停止播放，适合睡前使用
- **全屏模式**：沉浸式欣赏音乐和专辑封面，点击空白区域或按钮可退出
- **迷你播放器模式**：节省屏幕空间的简洁播放界面
- **多主题支持**：内置紫色、蓝色、绿色和粉色四种主题
- **深色/浅色模式**：适应不同的环境和个人偏好
- **标题自动滚动**：当歌曲名称过长时自动滚动显示
- **播放列表导入/导出**：保存和分享您的播放列表
- **排序与随机播放**：灵活调整播放顺序或随机播放
- **播放速度控制**：支持0.5x到2.0x的多级播放速度调节
- **音效均衡器**：8频段均衡器支持多种预设和自定义调节
- **缓存播放记录**：关闭后重新打开可恢复之前的播放状态和列表
- **优化的移动端体验**：完全响应式设计，适配手机和平板设备
- **键盘快捷键**：方便的键盘控制提高操作效率

## 使用方法

1. 下载index.html文件或克隆本仓库
2. 在浏览器中打开index.html
3. 点击右上角的播放列表按钮，打开播放列表界面
4. 在"上传文件"标签中添加:
   - 音乐文件（支持.mp3, .wav, .ogg等浏览器支持的格式）
   - 专辑封面图片（可选）
   - 歌词文件（.lrc格式，可选，支持UTF-8和GBK编码）
5. 使用播放控制按钮控制音乐播放
6. 点击专辑封面查看完整歌词
7. 使用播放列表管理多首歌曲

## 键盘快捷键

- **空格键**: 播放/暂停
- **左右方向键**: 快退/快进5秒
- **上下方向键**: 增大/减小音量
- **R键**: 切换重复播放模式
- **F键**: 切换全屏模式
- **L键**: 显示歌词
- **P键**: 显示播放列表
- **S键**: 显示睡眠定时器
- **E键**: 显示均衡器设置
- **M键**: 切换迷你播放器模式
- **1/2/3/0键**: 设置播放速度为1.0x/1.5x/2.0x/0.5x
- **ESC键**: 关闭当前打开的面板

## 功能亮点

### 增强的播放控制
除了基本的播放控制外，新增的播放速度调节和音效均衡器可以根据个人喜好调整音乐播放效果，让您的聆听体验更加个性化。

### 播放列表管理与持久化
每首歌曲可以拥有独立的封面图片和歌词，在播放列表中显示缩略图，便于识别和管理。支持通过拖拽重新排序，并且播放列表和播放状态会被缓存，下次打开时自动恢复。

### 智能歌词分段
自动识别歌词的结构，将歌词分为不同段落（如副歌、主歌等），使歌词显示更清晰、结构化，提升用户体验。

### 优化的文件处理
支持多种音频格式和编码，对中文GBK编码歌词文件提供了特殊处理，确保正确显示不会出现乱码问题。

### 优化的移动端适配
精心优化的移动端体验，在手机小屏幕上也能得到完美的显示效果和操作体验，界面更加紧凑且功能完整。

### 本地优先设计
所有数据和操作都在本地完成，不需要网络连接，保护您的隐私，同时避免了缓冲和加载延迟。

## 技术细节

- 纯前端实现，无需服务器
- 使用Web Audio API实现音频可视化和均衡器功能
- 使用IndexedDB实现播放列表和音频文件的缓存
- 支持LRC格式歌词的解析和显示
- 自动检测并处理歌词文件编码（支持UTF-8和GBK）
- 歌词智能分段和段落识别算法
- 使用CSS变量实现主题切换
- localStorage和IndexedDB实现设置和播放记录持久化
- 响应式设计适配不同尺寸设备

## 关于作者

这个音乐播放器是由一名初中生在AI的辅助下开发的，不断改进和优化，增加了许多实用功能，既美观又实用。

## 开源协议

MIT License
